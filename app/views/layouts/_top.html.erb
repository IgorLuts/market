<div id="top">
    <div class="container">
        <div class="row">
            <div class="col-xs-5 contact">
                <a href="#" data-toggle="modal" data-target="#callback-modal" class="btn btn-primary btn-sm"><i class="fa fa-phone">   
                    </i>Заказать обратный звонок
                </a>
            </div>
            <div class="col-xs-7">
                <div class="login">
                  <% if user_signed_in? %>
                      <%= link_to "Выход", destroy_user_session_path, method: :delete %>
                  <% else %>
                      <a href="#" data-toggle="modal" data-target="#login-modal">
                        <i class="fa fa-sign-in"></i> Войти
                      </a>
                      <%= link_to new_user_session_path do %>
                        <i class="fa fa-user"></i> Регистрация
                      <% end %>
                  <% end %>
                  <%= render 'layouts/cart' %>                 
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="Login" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="Login">Войти</h4>
                </div>
                <div class="modal-body">
                    <%= form_for(:user, :url => user_session_path, :html => { :role => 'form'}) do |f| %>
                        <div class="form-group">
                            <%= f.email_field :email, :autofocus => true, placeholder: 'Ел. почта', class: 'form-control' %>
                        </div>
                        <div class="form-group">
                            <%= f.password_field :password, placeholder: 'Пароль', class: 'form-control' %>
                        </div>
                        <%= f.submit 'Войти', :class => 'btn btn-primary' %>
                    <% end %>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="callback-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="Login">Обратный звонок</h4>
                </div>
                <div class="modal-body">
                    <%= form_for(:contact, url: callback_contacts_path, :html => { :role => 'form'}) do |f| %>
                        <div class="form-group">
                            <%= f.text_field :name, :autofocus => true, placeholder: 'Ваше имя', class: 'form-control', required: true%>
                        </div>
                        <div class="form-group">
                            <%= f.text_field :phone, placeholder: 'Телефон', class: 'form-control', pattern: "[0-9]+" %>
                        </div>
                        <%= f.submit 'Заказать звонок', :class => 'btn btn-primary' %>
                    <% end %>
                </div>
            </div>
        </div>
    </div>
</div>
